(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{11:function(e,a,t){"use strict";var n=t(0);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=l(Object(n.useState)(a),2),c=t[0],o=t[1];return{handleChange:function(e){e.persist(),o(function(a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){r(e,a,t[a])})}return e}({},a,r({},e.target.name,e.target.value))})},handleSubmit:function(a){a&&a.preventDefault(),e()},setValues:o,values:c,getErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.keys(e).map(function(a){return e[a].map(function(e){return e})})}}}},434:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),c=t(1),o=t(4),s=t.n(o),m=t(186),i=t.n(m),u=(t(236),t(7)),d=t(5);function f(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){p(e,a,t[a])})}return e}function p(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function b(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.default=function(e){var a=e.user,t=e.updateUser,o=a,m=Object(l.a)(T,o),p=m.values,h=m.setValues,v=m.getErrors,g=m.handleChange,E=m.handleSubmit,y=b(Object(n.useState)(!1),2),N=y[0],w=y[1],k=b(Object(n.useState)(!1),2),x=k[0],j=k[1],C=b(Object(n.useState)([]),2),O=C[0],S=C[1],W=b(Object(n.useState)({src:"images/profile.jpg",changed:!1,prev:"",file:""}),2),P=W[0],q=W[1],_=b(Object(n.useState)(),2),A=_[0],L=_[1],M=null;function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=c.a.getToken();if(a){w(!0),j(!1);var n=e?"update-pp":"update-profile",r=new FormData;for(var l in p)r.append(l,p[l]);s.a.post("/api/"+n,r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}}).then(function(){j(!0),w(!1),h(function(e){return f({},e,{password_baru:"",password_baru_confirmation:"",password:"",img:""})}),e?q(f({},P,{prev:""})):t({email:p.email,name:p.name,jk:p.jk})}).catch(function(e){U(),e.response?422===e.response.request.status?S(v(e.response.data.errors)):401===e.response.request.status?S([e.response.data.error]):S(["server error"]):S(["server error"]),U(),w(!1)})}}function U(){L(""),q({src:P.prev?P.prev:P.src,changed:!1,prev:""})}return Object(n.useEffect)(function(){s.a.get("images/users/"+a.id+".jpg").then(function(){return q(f({},P,{src:"images/users/"+a.id+".jpg"}))}).catch(function(){})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.e,{title:"Pengaturan"}),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-2 mb-2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"mb-1"},r.a.createElement("img",{src:P.src,style:{width:"100%"}})),r.a.createElement("label",{className:"btn btn-xs btn-primary",style:{width:"100%",paddingBottom:"10px"}},"Pilih Gambar ",r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var a=e.target.files[0];j(!1),q(f({},P,{changed:!0})),L(URL.createObjectURL(a))},style:{height:"0.1px",width:"0.1px",opacity:0,margin:0}})),r.a.createElement("div",{className:"text-center mt-1"},P.changed&&!N&&!x&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-xs btn-success mr-3",onClick:function(){P.changed&&T(!0)}},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement("button",{className:"btn btn-xs btn-warning",onClick:U},r.a.createElement("i",{className:"fas fa-times"}))),N&&P.changed&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}))))),r.a.createElement("div",{className:"col-12 col-md-10"},r.a.createElement("div",{className:"card"},r.a.createElement("form",{onSubmit:E},r.a.createElement("div",{className:"card-body row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",{className:"card-title"},"Ubah Profil"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-md-8"},A?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-success btn-fullwidth",onClick:function(){var e=M.getCroppedCanvas().toDataURL();L(""),j(!1),q({src:e,changed:!0,prev:P.src}),h(function(a){return f({},a,{img:e})})}},"crop"),r.a.createElement(i.a,{ref:function(e){M=e},src:A,style:{height:400,width:"100%"},aspectRatio:1,guides:!1})):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.d,{type:"email",name:"email",label:"Email",value:p.email,handleChange:g,labelW:"3",formW:"6"}),r.a.createElement(u.d,{name:"name",label:"Nama Lengkap",value:p.name,handleChange:g,labelW:"3",formW:"6"}),r.a.createElement(u.a,{label:"Jenis Kelamin",name:"jk",handleChange:g,value:p.jk,options:[["l","Laki - Laki"],["p","Perempuan"]],labelW:"3",formW:"6"}),r.a.createElement("hr",null),r.a.createElement(u.d,{type:"password",name:"password_baru",label:"Password Baru",value:p.password_baru,handleChange:g,labelW:"3",formW:"5",formtext:"kosongi jika tidak ingin mengubah password"}),r.a.createElement(u.d,{type:"password",name:"password_baru_confirmation",label:"Ulangi Password",value:p.password_baru_confirmation,handleChange:g,labelW:"3",formW:"5"}),r.a.createElement("hr",null),r.a.createElement(u.d,{type:"password",name:"password",label:"Password",value:p.password,handleChange:g,labelW:"3",formW:"5",required:!0}))),r.a.createElement("div",{className:"col-md-4"},O.constructor===Array&&O.length>0&&!x&&r.a.createElement("div",{className:"bg-warning",style:{padding:"5%",margin:"5%"}},r.a.createElement("ul",null,O.map(function(e,a){return r.a.createElement("li",{key:a},e)}))),x&&r.a.createElement("div",{className:"bg-success",style:{padding:"5%",margin:"5%"}},r.a.createElement("p",{className:"lead"},"Sukses!"),r.a.createElement("p",null,"profil berhasil disimpan")))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{type:"submit",className:"btn btn-success",disabled:N||!p.password},"SIMPAN ",N&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"})," ")))))))}},5:function(e,a,t){"use strict";t.d(a,"e",function(){return l}),t.d(a,"a",function(){return c}),t.d(a,"c",function(){return o}),t.d(a,"b",function(){return s}),t.d(a,"d",function(){return m});var n=t(0),r=t.n(n);function l(e){var a=e.title,t=void 0===a?"Judul Halaman":a,n=e.navs,l=void 0===n?[]:n;return r.a.createElement("div",{className:"row mt-2 mb-0"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"float-left"},r.a.createElement("b",null,t)),l.map(function(e,a){if(e.show)return r.a.createElement("button",{key:a,value:e.action,onClick:e.clickHandle,className:"btn ".concat(e.className?e.className:"btn-primary"," float-right ml-1")},r.a.createElement("span",{className:"fas ".concat(e.icon?e.icon:"fa-plus")})," ",r.a.createElement("span",null,e.text||""))})))}function c(e){var a=e.message,t=e.type,n=e.clickHandle,l=e.html,c=void 0!==l&&l;return r.a.createElement("div",{className:"alert alert-".concat(t||"info"),style:{overflow:"hidden"},role:"alert"},r.a.createElement("span",{className:"float-left"},c?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a}}):a),r.a.createElement("button",{className:"btn btn-xs float-right",onClick:function(){return n()}},r.a.createElement("i",{className:"fas fa-times"})))}function o(e){return e.loading?r.a.createElement("span",{className:"col-12 text-center"},r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," ",e.text?e.text:"Loading..."):""}function s(e){var a=e.text,t=void 0===a?"":a,n=e.w,l=e.h,c=Math.floor(255*Math.random()),o=Math.floor(255*Math.random()),s=Math.floor(255*Math.random());return r.a.createElement("div",{style:{width:n||"100%",height:l||150,backgroundColor:"rgb(".concat(c,", ").concat(o,", ").concat(s,")"),color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",textAlign:"middle",fontSize:60,paddingTop:30,textTransform:"uppercase"}},r.a.createElement("b",null,t.substring(0,1)," ",t.substring(t.length-1,t.length)))}function m(e){var a=e.text,t=e.success,n=void 0===t||t;return r.a.createElement("span",null,r.a.createElement("i",{className:"fas ".concat(n?"fa-check text-success":"fa-exclamation text-danger")})," ",a)}},7:function(e,a,t){"use strict";t.d(a,"d",function(){return l}),t.d(a,"b",function(){return c}),t.d(a,"a",function(){return o}),t.d(a,"c",function(){return s});var n=t(0),r=t.n(n);function l(e){var a=e.type,t=e.name,n=e.placeholder,l=e.handleChange,c=e.value,o=e.required,s=e.label,m=e.labelW,i=e.formW,u=e.formtext,d=e.form;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(m||2)+" col-form-label"},s),r.a.createElement("div",{className:"col-md-"+(i||6)},r.a.createElement("input",{form:d,type:a||"text",className:"form-control",name:t,placeholder:n,onChange:l,value:c||"",required:o}),r.a.createElement("small",{className:"form-text text-muted"},u)))}function c(e){var a=e.name,t=e.placeholder,n=e.options,l=e.handleChange,c=e.value,o=e.required,s=e.label,m=e.labelW,i=e.formW;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(m||2)+" col-form-label"},s),r.a.createElement("div",{className:"col-md-"+(i||4)},r.a.createElement("select",{className:"custom-select",name:a,onChange:l,value:c||"",required:o},t&&r.a.createElement("option",{value:""},t),n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nama)}))))}function o(e){var a=e.name,t=e.options,n=e.handleChange,l=e.value,c=e.required,o=e.label,s=e.labelW,m=e.formW,i=e.form,u=e.labelClass,d=void 0===u?"":u;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(s||2)+" col-form-label"},o),r.a.createElement("div",{className:"col-md-"+(m||4),style:{marginTop:"0.4rem"}},t.map(function(e){var t=e[2]?e[2]:d;return r.a.createElement("div",{className:"form-check form-check-inline",key:e[0]},r.a.createElement("label",{className:"form-check-label ".concat(t)},r.a.createElement("input",{form:i,className:"form-check-input",type:"radio",name:a,onChange:n,value:e[0],checked:l==e[0],required:c})," ",e[1]))})))}function s(e){var a=e.name,t=e.handleChange,n=e.value,l=e.placeholder,c=e.required,o=e.label,s=e.labelW,m=e.formW;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(s||2)+" col-form-label"},o),r.a.createElement("div",{className:"col-md-"+(m||4)},r.a.createElement("textarea",{style:{width:"100%"},className:"form-control",name:a,onChange:t,value:n||"",placeholder:l,required:c})))}}}]);