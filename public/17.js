(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{11:function(e,t,a){"use strict";var n=a(0);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=l(Object(n.useState)(t),2),o=a[0],c=a[1];return{handleChange:function(e){e.persist(),c(function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){r(e,t,a[t])})}return e}({},t,r({},e.target.name,e.target.value))})},handleSubmit:function(t){t&&t.preventDefault(),e()},setValues:c,values:o,getErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.keys(e).map(function(t){return e[t].map(function(e){return e})})}}}},445:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a.n(l),c=a(1),i=a(5),s=a(11),u=a(7);function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){f(e,t,a[t])})}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=function(e){var t,a=e.tipe,l=e.id,i=e.toggle,f={id:"update"===a?l:0},p=Object(s.a)(function(){if(c.a.cek()){w(!0),x(!1);var e="add"===a?"post":"put";o.a[e]("/api/kategori-admin/"+(l||""),m({},g),{headers:{Authorization:"Bearer "+c.a.getToken()}}).then(function(e){w(!1),x(!0),C({}),"add"===a&&h({})}).catch(function(e){e.response?422===e.response.request.status?C(b(e.response.data.errors)):401===e.response.request.status?C(["mohon login ulang"]):C(["server error"]):C(["server error"]),w(!1)})}else C(["mohon login ulang"])},f),g=p.values,h=p.setValues,b=p.getErrors,v=p.handleChange,E=p.handleSubmit,y=d(Object(n.useState)(!1),2),N=y[0],w=y[1],k=d(Object(n.useState)(!1),2),O=k[0],x=k[1],S=d(Object(n.useState)([]),2),j=S[0],C=S[1];return Object(n.useEffect)(function(){if("update"===a){if(!c.a.cek())return void C(["mohon login ulang"]);w(!0),o.a.get("/api/kategori-admin/"+l,{headers:{Authorization:"Bearer "+c.a.getToken()}}).then(function(e){var t=e.data.data;h(function(e){return m({},e,{nama:t.nama})}),w(!1)}).catch(function(){return i("table","")})}},[]),r.a.createElement("div",{className:"row",style:{padding:"2%"}},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h5",{className:"float-left"},r.a.createElement("b",null,"add"===a?"Tambah":"Ubah"," Data Kategori")))),r.a.createElement("div",{className:"row",style:{marginTop:"2%"}},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("form",{onSubmit:E,id:"form"},r.a.createElement(u.d,{name:"nama",label:"Nama",placeholder:"Nama Kategori",handleChange:v,value:g.nama}),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("button",{type:"submit",className:"btn btn-success",disabled:N},"SIMPAN ",N&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"})," "))))),r.a.createElement("div",{className:"col-md-4"},j.constructor===Array&&j.length>0&&r.a.createElement("div",{className:"bg-warning",style:{padding:"5%",margin:"5%"}},(t=j,r.a.createElement("ul",null,t.map(function(e,t){return r.a.createElement("li",{key:t},e)})))),O&&r.a.createElement("div",{className:"bg-success",style:{padding:"5%",margin:"5%"}},r.a.createElement("p",{className:"lead"},"Sukses!"),r.a.createElement("p",null,"data berhasil disimpan"))))))};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var N=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=b(t).call(this,e),a=!r||"object"!==g(r)&&"function"!=typeof r?v(n):r,y(v(a),"loadData",function(){c.a.cek()?(a.setState({fetch:!0}),o.a.get("/api/kategori-admin?",{headers:{Authorization:"Bearer "+c.a.getToken()}}).then(function(e){a.setState({kategoris:e.data.data,fetch:!1})}).catch(function(e){console.log(e),401===e.response.status?a.props.logOut("kategori",!0):a.setState({error:"server error",fetch:!1})})):a.props.logOut("mapel",!0)}),y(v(a),"setId",function(e){a.setState({id:e?e.target.value:""})}),y(v(a),"remAlert",function(){a.setState({message:""})}),y(v(a),"hapusData",function(e,t,n){!confirm("hapus kategori: "+t+"?")||n>0||o.a.delete("/api/kategori-admin/"+e,{headers:{Authorization:"Bearer "+c.a.getToken()}}).then(function(){alert("sukses hapus: "+t),a.loadData()}).catch(function(){alert("gagal hapus: "+t)})}),a.state={action:"table",kategoris:[],pageData:{pageCount:0},page:1,fetch:!1,error:"",message:"",id:""},a.toggle=a.toggle.bind(v(a)),a}var a,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"toggle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"table",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.setState({action:t,mapels:[],id:a,message:n},function(){(t="table")&&e.loadData()})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.e,{title:"Kategori Mata Pelajaran",navs:[{show:"table"===this.state.action,clickHandle:function(){return e.toggle("add")}},{show:"table"!==this.state.action,clickHandle:function(){return e.toggle("table")},icon:"fa-arrow-left"}]}),r.a.createElement("hr",{className:"mt-1"}),""!==this.state.message&&r.a.createElement(i.a,{message:this.state.message,clickHandle:this.remAlert}),r.a.createElement("div",{className:"row"},""===this.state.error?r.a.createElement("div",{className:"col-12"},function(){switch(e.state.action){case"table":return r.a.createElement(r.a.Fragment,null,r.a.createElement("ol",{className:"list-group"},e.state.kategoris.map(function(t,a){return r.a.createElement("li",{className:"list-group-item p-1",key:a},r.a.createElement("b",null,a+1,".")," ",t.nama," (",t.mapel_count,")",r.a.createElement("span",{className:"float-right"},r.a.createElement("button",{onClick:function(){return e.toggle("update",t.id)},className:"btn btn-xs btn-warning mr-1"},r.a.createElement("i",{className:"fas fa-edit"})),0==t.mapel_count&&r.a.createElement("button",{onClick:function(){return e.hapusData(t.id,t.nama,t.mapel_count)},className:"btn btn-xs btn-danger"},r.a.createElement("i",{className:"fas fa-times"}))))})));case"add":return r.a.createElement(p,{tipe:"add",toggle:e.toggle});case"update":return r.a.createElement(p,{tipe:"update",id:e.state.id,toggle:e.toggle});default:return""}}()):r.a.createElement("div",{className:"col-12"},r.a.createElement("p",{className:"text-danger"},this.state.error))))}}])&&h(a.prototype,n),l&&h(a,l),t}();t.default=N},5:function(e,t,a){"use strict";a.d(t,"e",function(){return l}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return c}),a.d(t,"b",function(){return i}),a.d(t,"d",function(){return s});var n=a(0),r=a.n(n);function l(e){var t=e.title,a=void 0===t?"Judul Halaman":t,n=e.navs,l=void 0===n?[]:n;return r.a.createElement("div",{className:"row mt-2 mb-0"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"float-left"},r.a.createElement("b",null,a)),l.map(function(e,t){if(e.show)return r.a.createElement("button",{key:t,value:e.action,onClick:e.clickHandle,className:"btn ".concat(e.className?e.className:"btn-primary"," float-right ml-1")},r.a.createElement("span",{className:"fas ".concat(e.icon?e.icon:"fa-plus")})," ",r.a.createElement("span",null,e.text||""))})))}function o(e){var t=e.message,a=e.type,n=e.clickHandle,l=e.html,o=void 0!==l&&l;return r.a.createElement("div",{className:"alert alert-".concat(a||"info"),style:{overflow:"hidden"},role:"alert"},r.a.createElement("span",{className:"float-left"},o?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}}):t),r.a.createElement("button",{className:"btn btn-xs float-right",onClick:function(){return n()}},r.a.createElement("i",{className:"fas fa-times"})))}function c(e){return e.loading?r.a.createElement("span",{className:"col-12 text-center"},r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," ",e.text?e.text:"Loading..."):""}function i(e){var t=e.text,a=void 0===t?"":t,n=e.w,l=e.h,o=Math.floor(255*Math.random()),c=Math.floor(255*Math.random()),i=Math.floor(255*Math.random());return r.a.createElement("div",{style:{width:n||"100%",height:l||150,backgroundColor:"rgb(".concat(o,", ").concat(c,", ").concat(i,")"),color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",textAlign:"middle",fontSize:60,paddingTop:30,textTransform:"uppercase"}},r.a.createElement("b",null,a.substring(0,1)," ",a.substring(a.length-1,a.length)))}function s(e){var t=e.text,a=e.success,n=void 0===a||a;return r.a.createElement("span",null,r.a.createElement("i",{className:"fas ".concat(n?"fa-check text-success":"fa-exclamation text-danger")})," ",t)}},7:function(e,t,a){"use strict";a.d(t,"d",function(){return l}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return c}),a.d(t,"c",function(){return i});var n=a(0),r=a.n(n);function l(e){var t=e.type,a=e.name,n=e.placeholder,l=e.handleChange,o=e.value,c=e.required,i=e.label,s=e.labelW,u=e.formW,m=e.formtext,f=e.form;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(s||2)+" col-form-label"},i),r.a.createElement("div",{className:"col-md-"+(u||6)},r.a.createElement("input",{form:f,type:t||"text",className:"form-control",name:a,placeholder:n,onChange:l,value:o||"",required:c}),r.a.createElement("small",{className:"form-text text-muted"},m)))}function o(e){var t=e.name,a=e.placeholder,n=e.options,l=e.handleChange,o=e.value,c=e.required,i=e.label,s=e.labelW,u=e.formW;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(s||2)+" col-form-label"},i),r.a.createElement("div",{className:"col-md-"+(u||4)},r.a.createElement("select",{className:"custom-select",name:t,onChange:l,value:o||"",required:c},a&&r.a.createElement("option",{value:""},a),n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nama)}))))}function c(e){var t=e.name,a=e.options,n=e.handleChange,l=e.value,o=e.required,c=e.label,i=e.labelW,s=e.formW,u=e.form,m=e.labelClass,f=void 0===m?"":m;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(i||2)+" col-form-label"},c),r.a.createElement("div",{className:"col-md-"+(s||4),style:{marginTop:"0.4rem"}},a.map(function(e){var a=e[2]?e[2]:f;return r.a.createElement("div",{className:"form-check form-check-inline",key:e[0]},r.a.createElement("label",{className:"form-check-label ".concat(a)},r.a.createElement("input",{form:u,className:"form-check-input",type:"radio",name:t,onChange:n,value:e[0],checked:l==e[0],required:o})," ",e[1]))})))}function i(e){var t=e.name,a=e.handleChange,n=e.value,l=e.placeholder,o=e.required,c=e.label,i=e.labelW,s=e.formW;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(i||2)+" col-form-label"},c),r.a.createElement("div",{className:"col-md-"+(s||4)},r.a.createElement("textarea",{style:{width:"100%"},className:"form-control",name:t,onChange:a,value:n||"",placeholder:l,required:o})))}}}]);