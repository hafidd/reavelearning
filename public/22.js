(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{441:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(44),s=a(1),l=a(432),i=a(426),c=a(427),u=a(428),m=a(443),p=a(429),f=a(430),h=a(431);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=b(t).call(this,e))||"object"!==d(r)&&"function"!=typeof r?y(n):r).state={isOpen:!1},a.toggle=a.toggle.bind(y(a)),a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r.a.Component),a=t,(n=[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{fixed:"top",dark:!0,expand:"md"},r.a.createElement(c.a,{href:"/"},r.a.createElement("img",{src:"images/logo2.png"})),r.a.createElement(u.a,{onClick:this.toggle},r.a.createElement("span",{className:"fas fa-bars"})),r.a.createElement(m.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(p.a,{className:"ml-auto",navbar:!0},r.a.createElement(f.a,null,r.a.createElement(h.a,{href:"https://laravel.com",target:"new",className:"laravel-color"},"Laravel")),r.a.createElement(f.a,null,r.a.createElement(h.a,{href:"https://reactjs.org/",target:"new",className:"react-color"},"React"))))))}}])&&g(a.prototype,n),o&&g(a,o),t}(),w=a(4),N=a.n(w);function C(e){var t=e.submitForm,a=e.handleChange,n=e.email,o=e.password,s=e.disabled;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"input-group form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-user"}))),r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",value:n||"",onChange:a,className:"form-control",disabled:s})),r.a.createElement("div",{className:"input-group form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-key"}))),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:o||"",onChange:a,className:"form-control",disabled:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn float-right login_btn",disabled:s},s&&r.a.createElement("span",{className:"fa fa-spinner fa-pulse"})," Log In")))}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=S(t).call(this,e))||"object"!==O(r)&&"function"!=typeof r?j(n):r).state={email:"",password:"",isLoading:!1,err:""},a.submitForm=a.submitForm.bind(j(a)),a.handleChange=a.handleChange.bind(j(a)),a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r.a.Component),a=t,(n=[{key:"handleChange",value:function(e){var t,a,n;this.setState((t={},a=e.target.name,n=e.target.value,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t))}},{key:"submitForm",value:function(e){var t=this;e.preventDefault(),""!==this.state.email&&""!==this.state.password?(this.setState({isLoading:!0}),N.a.post("/api/user/login",this.state).then(function(e){e.data.err?t.setState({err:"email / password salah",isLoading:!1}):t.props.setLoggedIn(e.data)}).catch(function(e){console.log(e),t.setState({err:"server error",isLoading:!1})})):this.setState({err:"username dan password harus diisi!"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"card card-login"},r.a.createElement("div",{className:"card-header card-login-header"},r.a.createElement("h3",{className:"float-left"},"Log In "),r.a.createElement("button",{onClick:function(){return e.props.formChange("")},className:"card-close-btn float-right"},"x")),r.a.createElement("div",{className:"card-body"},""!==this.state.err&&r.a.createElement("p",{className:"form-error"},this.state.err),r.a.createElement(C,{submitForm:this.submitForm,handleChange:this.handleChange,email:this.state.email,password:this.state.password,disabled:this.state.isLoading})),r.a.createElement("div",{className:"card-footer card-login-footer"},r.a.createElement("div",{className:"d-flex justify-content-center links"},"Belum punya akun?",r.a.createElement("a",{href:"#",onClick:function(){return e.props.formChange("register")}},"Register")))))}}])&&k(a.prototype,n),o&&k(a,o),t}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=R(t).call(this,e))||"object"!==x(r)&&"function"!=typeof r?I(n):r).state={name:"",email:"",password:"",password2:"",type:"siswa",error:""},a.submitForm=a.submitForm.bind(I(a)),a.handleChange=a.handleChange.bind(I(a)),a}var a,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,r.a.Component),a=t,(n=[{key:"handleChange",value:function(e){var t,a,n;this.setState((t={},a=e.target.name,n=e.target.value,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t))}},{key:"submitForm",value:function(e){var t=this;if(e.preventDefault(),this.setState({error:""}),""!=this.state.name&&""!=this.state.email&&""!=this.state.password&&""!=this.state.type)return this.state.password!=this.state.password2?(this.setState({error:"konfirmasi password salah!"}),void console.log(this.state.password,this.state.password2)):void N.a.post("/api/user/register",this.state).then(function(e){t.setState({name:"",email:"",password:"",password2:"",type:"siswa",error:e.data})}).catch(function(e){console.log(e),422===e.response.status&&e.response.data.errors.email?t.setState({error:"email salah/sudah digunakan"}):t.setState({error:"err"})});this.setState({error:"mohon lengkapi data!"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"card card-login"},r.a.createElement("div",{className:"card-header card-login-header"},r.a.createElement("h3",{className:"float-left"},"Register"),r.a.createElement("button",{onClick:function(){return e.props.formChange("")},className:"card-close-btn float-right"},"x")),r.a.createElement("div",{className:"card-body"},""!==this.state.error&&r.a.createElement("p",{className:"form-error"},this.state.error),r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("div",{className:"input-group form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-user"}))),r.a.createElement("input",{type:"text",placeholder:"Nama Lengkap",name:"name",value:this.state.name,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"input-group form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-envelope"}))),r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"input-group form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-key"}))),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"input-group form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-key"}))),r.a.createElement("input",{type:"password",placeholder:"Ulangi Password",name:"password2",value:this.state.password2,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"input-group form-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-book"}))),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"radio",name:"type",value:"siswa",checked:"siswa"===this.state.type,onChange:this.handleChange})," ",r.a.createElement("b",{className:"mr-4"},"Siswa"),r.a.createElement("input",{type:"radio",name:"type",value:"pengajar",checked:"pengajar"===this.state.type,onChange:this.handleChange})," ",r.a.createElement("b",null,"Pengajar"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn float-right login_btn"},"Register")))),r.a.createElement("div",{className:"card-footer card-login-footer"},r.a.createElement("div",{className:"d-flex justify-content-center links"},"Sudah punya akun?",r.a.createElement("a",{href:"#",onClick:function(){return e.props.formChange("login")}},"Log In")))))}}])&&L(a.prototype,n),o&&L(a,o),t}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=B(t).call(this,e))||"object"!==D(r)&&"function"!=typeof r?J(n):r).state={form:e.form},a.formChange=a.formChange.bind(J(a)),a.setLoggedIn=a.setLoggedIn.bind(J(a)),a}var a,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,n["Component"]),a=t,(o=[{key:"componentDidMount",value:function(){0!==s.a.getRole()&&(this.props.updateRole(s.a.getRole(),!0,"",s.a.getUser()),this.props.history.push("/dashboard"))}},{key:"setLoggedIn",value:function(e){s.a.setToken(e.access_token),s.a.setUser(e.user),this.props.updateRole(s.a.getRole(),!0,this.props.lastPath,e.user),this.props.lastPath?this.props.history.push(this.props.lastPath):this.props.history.push("/dashboard")}},{key:"formChange",value:function(e){this.setState({form:e})}},{key:"home",value:function(e){var t=this;return"login"===e?r.a.createElement(P,{formChange:this.formChange,setLoggedIn:this.setLoggedIn}):"register"===e?r.a.createElement(T,{formChange:this.formChange,setLoggedIn:this.setLoggedIn}):r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"landing-text"},r.a.createElement("h1",null,"SKRIPSI SI"),r.a.createElement("h4",null,"Pengembangan E-Learning Menggunakan ",r.a.createElement("br",null),r.a.createElement("span",{className:"laravel-color"},r.a.createElement("strong",null,"Laravel"))," dan ",r.a.createElement("span",{className:"react-color"},r.a.createElement("strong",null,"React"))),r.a.createElement(l.a,{onClick:function(){return t.formChange("login")},className:"btn btn-lg btn-landing",disabled:this.props.fetch},"Log In "),r.a.createElement("p",{className:"lead"},"Belum punya akun? ",r.a.createElement("button",{onClick:function(){return t.formChange("register")},className:"btn-register-link",disabled:this.props.fetch},"Register"))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(E,null),r.a.createElement("div",{className:"home"},this.home(this.state.form)))}}])&&U(a.prototype,o),i&&U(a,i),t}();t.default=Object(o.f)(K)}}]);