(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{11:function(e,a,t){"use strict";var n=t(0);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=l(Object(n.useState)(a),2),c=t[0],s=t[1];return{handleChange:function(e){e.persist(),s(function(a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){r(e,a,t[a])})}return e}({},a,r({},e.target.name,e.target.value))})},handleSubmit:function(a){a&&a.preventDefault(),e()},setValues:s,values:c,getErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.keys(e).map(function(a){return e[a].map(function(e){return e})})}}}},25:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(137),c=t.n(l);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}a.a=function(e){var a,t=e.pageData,n=e.handlePageClick,l=e.page;return r.a.createElement("div",{className:"pagination",style:{display:t.pageCount>1?"block":"none"}},r.a.createElement(c.a,(s(a={previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:t.pageCount,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:n,initialPage:l-1,containerClassName:"pagination pagination-sm",pageClassName:"page-item",previousClassName:"page-item",nextClassName:"page-item",breakClassNamee:"page-item",nextLinkClassName:"page-link"},"previousClassName","page-link"),s(a,"pageLinkClassName","page-link"),s(a,"breakLinkClassName","page-link"),s(a,"activeClassName","active"),a)))}},447:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(4),c=t.n(l),s=t(1),o=t(5),i=t(90),m=t(91),u=t(11),d=t(44),f=t(7);function p(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function b(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=Object(d.f)(function(e){var a=e.id,t=e.notif,l=e.groups,i=s.a.getToken(),m={dataId:"",muridId:"",nama:"",mapelId:a,currentGroup:"",group:""},d=Object(u.a)(B,m),g=d.values,h=d.setValues,E=d.handleChange,v=d.getErrors,y=b(Object(n.useState)([]),2),N=y[0],k=y[1],w=b(Object(n.useState)(!1),2),x=w[0],O=w[1],S=b(Object(n.useState)(!1),2),j=S[0],C=S[1],T=b(Object(n.useState)(l),2),A=T[0],P=T[1],D=b(Object(n.useState)(""),2),J=D[0],I=D[1];Object(n.useEffect)(function(){M()},[J]);var M=function(){i?(O(!0),c.a.get("/api/materi/peserta/"+a,{params:{group:J},headers:{Authorization:"Bearer "+i}}).then(function(e){O(!1),k(e.data.data)}).catch(function(e){O(!1),t(r.a.createElement(o.d,{text:JSON.stringify(e.message),success:!1}))})):t(r.a.createElement(o.d,{text:"mohon login ulang",success:!1}))},B=function(e){e.preventDefault(),i?(O(!0),c.a.put("/api/mov-siswa/",g,{headers:{Authorization:"Bearer "+i}}).then(function(e){O(!1),t(r.a.createElement(o.d,{text:"".concat(g.nama," berhasil dipindahkan")})),M(),q()}).catch(function(e){O(!1),e.response&&422===e.response.request.status?t(v(e.response.data.errors)):t(r.a.createElement(o.d,{text:JSON.stringify(e.message),success:!1})),q()})):t(r.a.createElement(o.d,{text:"mohon login ulang",success:!1}))},q=function(e){h(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){p(e,a,t[a])})}return e}({},m)),C(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",style:{width:"100%",borderTop:"none"}},r.a.createElement("div",{className:"card-body row p-1"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"pb-1"},r.a.createElement("strong",{className:"card-title"},"Peserta"),r.a.createElement("a",{className:"float-right",href:"api/excel-mapel-siswa/"+a},r.a.createElement("button",{className:"btn btn-sm btn-outline-primary"},r.a.createElement("i",{className:"fas fa-file-excel"})," Download"))),r.a.createElement(f.b,{formW:"2",label:"kelas / kelompok",options:l,placeholder:"-",value:J,handleChange:function(e){I(e.currentTarget.value)}}),r.a.createElement("strong",null,N.length," Siswa"),r.a.createElement("ul",{className:"list-group"},N.map(function(e){return r.a.createElement("li",{className:"list-group-item p-1 pl-2",key:e.id},r.a.createElement("b",null,e.user.name)," (uid: ",e.user_id,")",r.a.createElement("button",{className:"ml-2 btn btn-xxs btn-outline-info",value:e.id,onClick:function(){return function(e,a,t,n){var r=l.filter(function(e){return e.id!=(n||"umum")});P(r),h({dataId:e,muridId:a,nama:t,mapelId:e,currentGroup:n,group:""}),C(!0)}(e.id,e.user.id,e.user.name,e.group)}},r.a.createElement("i",{className:"fas fa-users"})),r.a.createElement("button",{className:"ml-2 btn btn-xxs btn-outline-danger",value:e.id,onClick:function(){return function(e,a){confirm("hapus ".concat(a))&&(i?(O(!0),c.a.delete("/api/rem-siswa/"+e,{headers:{Authorization:"Bearer "+i}}).then(function(e){O(!1),t(r.a.createElement(o.d,{text:"".concat(a," telah dikeluarkan")})),M()}).catch(function(e){O(!1),t(r.a.createElement(o.d,{text:JSON.stringify(e.message),success:!1}))})):t(r.a.createElement(o.d,{text:"mohon login ulang",success:!1})))}(e.id,e.user.name)}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("br",null),""==J&&r.a.createElement("small",null,"kelompok ",e.group?e.group:"umum"))}))))),j&&r.a.createElement("div",{className:"modal",style:{display:"block",overflow:"auto"}},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{onSubmit:B,id:"form-1"}),r.a.createElement("div",{className:"modal-body"},r.a.createElement("button",{type:"button",className:"close",onClick:q},r.a.createElement("span",null,"Ã—")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 pr-0"},"Pindahkan ",g.nama," ",r.a.createElement("br",null),r.a.createElement("small",null,g.currentGroup),r.a.createElement("hr",null),r.a.createElement(f.b,{labelW:"3",name:"group",value:g.group,form:"form-1",label:"kelompok / kelas",placeholder:"pilih",options:A,handleChange:E})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"submit",form:"form-1",className:"btn btn-sm btn-success",disabled:x},r.a.createElement("i",{className:"fas fa-plus"})," ","Pindahkan"," ",x&&r.a.createElement("i",{className:"fas fa-spinner fa-spin"})))))))}),h=t(61);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,a){return(k=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function w(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var x=function(e){function a(e){var t,n,l;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),n=this,l=y(a).call(this,e),t=!l||"object"!==E(l)&&"function"!=typeof l?N(n):l,w(N(t),"notif",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.constructor===Array){var a=r.a.createElement("ul",null,e.map(function(e,a){return r.a.createElement("li",{key:a},e)}));t.setState({message:a})}else t.setState({message:e})}),w(N(t),"setAction",function(e){if(e){e.preventDefault();var a=e.currentTarget.value.split("-")[0],n=e.currentTarget.value.split("-")[1];t.setState({action:a,message:n||""})}else t.setState({action:"",message:""})}),t.state={action:"materi",id:e.match.params.mapelId,mapel:{},materis:[],pesertas:[],fetch:!1,message:t.props.location.state?t.props.location.state.message:""},t}var t,n,l;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&k(e,a)}(a,r.a.Component),t=a,(n=[{key:"componentDidMount",value:function(){var e=this,a=s.a.getToken();a?(this.setState({fetch:!0}),c.a.get("api/mapel/"+this.state.id,{headers:{Authorization:"Bearer "+a}}).then(function(a){e.setState({fetch:!1,mapel:a.data.data})}).catch(function(a){console.log(a),e.notif(JSON.stringify(a.message)),e.setState({fetch:!1})})):this.props.logOut("mapel",!0)}},{key:"render",value:function(){var e=this,a=this.state.mapel.groups?JSON.parse(this.state.mapel.groups).map(function(e){return{id:e.nama,nama:e.nama}}):[];return a.length>0&&a.push({id:"umum",nama:"Umum"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(i.a,{mapel:this.state.mapel})),r.a.createElement("div",{className:"col-12 mt-3"},""!==this.state.message&&r.a.createElement(o.a,{message:this.state.message,clickHandle:this.notif})),r.a.createElement("div",{className:"col-12 mt-1 mb-0"},r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("materi"===this.state.action&&"active"),onClick:this.setAction,value:"materi"},"Materi")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("peserta"===this.state.action&&"active"),onClick:this.setAction,value:"peserta"},"Siswa")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link ".concat("quis"===this.state.action&&"active"),onClick:this.setAction,value:"quis"},"Ujian/Kuis")))),r.a.createElement("div",{className:"col-md-12"},function(){switch(e.state.action){case"materi":return r.a.createElement(m.a,{notif:e.notif,id:e.state.id});case"peserta":return r.a.createElement(g,{notif:e.notif,id:e.state.id,groups:a});case"quis":return r.a.createElement(h.a,{notif:e.notif,id:e.state.id,groups:a});default:return"nonono"}}()))}}])&&v(t.prototype,n),l&&v(t,l),a}();a.default=x},5:function(e,a,t){"use strict";t.d(a,"e",function(){return l}),t.d(a,"a",function(){return c}),t.d(a,"c",function(){return s}),t.d(a,"b",function(){return o}),t.d(a,"d",function(){return i});var n=t(0),r=t.n(n);function l(e){var a=e.title,t=void 0===a?"Judul Halaman":a,n=e.navs,l=void 0===n?[]:n;return r.a.createElement("div",{className:"row mt-2 mb-0"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"float-left"},r.a.createElement("b",null,t)),l.map(function(e,a){if(e.show)return r.a.createElement("button",{key:a,value:e.action,onClick:e.clickHandle,className:"btn ".concat(e.className?e.className:"btn-primary"," float-right ml-1")},r.a.createElement("span",{className:"fas ".concat(e.icon?e.icon:"fa-plus")})," ",r.a.createElement("span",null,e.text||""))})))}function c(e){var a=e.message,t=e.type,n=e.clickHandle,l=e.html,c=void 0!==l&&l;return r.a.createElement("div",{className:"alert alert-".concat(t||"info"),style:{overflow:"hidden"},role:"alert"},r.a.createElement("span",{className:"float-left"},c?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a}}):a),r.a.createElement("button",{className:"btn btn-xs float-right",onClick:function(){return n()}},r.a.createElement("i",{className:"fas fa-times"})))}function s(e){return e.loading?r.a.createElement("span",{className:"col-12 text-center"},r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," ",e.text?e.text:"Loading..."):""}function o(e){var a=e.text,t=void 0===a?"":a,n=e.w,l=e.h,c=Math.floor(255*Math.random()),s=Math.floor(255*Math.random()),o=Math.floor(255*Math.random());return r.a.createElement("div",{style:{width:n||"100%",height:l||150,backgroundColor:"rgb(".concat(c,", ").concat(s,", ").concat(o,")"),color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",textAlign:"middle",fontSize:60,paddingTop:30,textTransform:"uppercase"}},r.a.createElement("b",null,t.substring(0,1)," ",t.substring(t.length-1,t.length)))}function i(e){var a=e.text,t=e.success,n=void 0===t||t;return r.a.createElement("span",null,r.a.createElement("i",{className:"fas ".concat(n?"fa-check text-success":"fa-exclamation text-danger")})," ",a)}},61:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(4),c=t.n(l),s=t(1),o=t(11),i=t(44),m=t(16),u=t(182),d=(t(226),t(5)),f=t(7),p=t(84),b=t(85),g=t(19);function h(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){v(e,a,t[a])})}return e}function v(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function y(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.a=Object(i.f)(function(e){var a=e.id,t=e.notif,l=e.groups,i=e.isSiswa,N=void 0!==i&&i,k=e.isHasil,w=void 0!==k&&k,x=e.setHasil,O=void 0===x?function(){}:x,S=s.a.getToken(),j={dataId:"",type:"",mulai:"",waktu:"",start:"",published:!1},C=Object(o.a)(ne,j),T=C.values,A=C.setValues,P=C.handleChange,D=C.getErrors,J=y(Object(n.useState)([]),2),I=J[0],M=J[1],B=y(Object(n.useState)({}),2),q=B[0],z=B[1],W=y(Object(n.useState)({kuises:[],pageData:{},search:{}}),2),F=W[0],_=W[1],H=y(Object(n.useState)(!1),2),L=H[0],K=H[1],V=y(Object(n.useState)(!1),2),R=V[0],U=V[1],G=y(Object(n.useState)(""),2),Q=G[0],X=G[1],Y=y(Object(n.useState)([]),2),Z=Y[0],$=Y[1];Object(n.useEffect)(function(){ee()},[Q,w]),Object(n.useEffect)(function(){N||ae()},[F.search]);var ee=function(){if(S){K(!0);var e=N?w?"/api/kuis-selesai/":"/api/materi-siswa/kuis/":"/api/materi/kuis/";c.a.get(e+a,{params:{group:Q},headers:{Authorization:"Bearer "+S}}).then(function(e){K(!1),M(e.data.data)}).catch(function(e){K(!1),t(r.a.createElement(d.d,{text:JSON.stringify(e.message),success:!1}))})}else t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1}))},ae=function(){s.a.getToken()?c.a.get("/api/kuis/",{params:F.search.kuis,headers:{Authorization:"Bearer "+s.a.getToken()}}).then(function(e){_(E({},F,{kuises:e.data.data}))}).catch(function(e){t(JSON.stringify(e.message))}):t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1}))},te=function(e){!function(e){S?(K(!0),c.a.get("/api/materi/kuis-detail/"+e,{headers:{Authorization:"Bearer "+S}}).then(function(e){K(!1),z(e.data.data);var a=JSON.parse(e.data.data.settings),t={type:a.type,keterangan:a.keterangan,waktu:a.waktu,mulai:a.mulai,start:a.start?new Date(a.start):new Date,published:e.data.data.published};A(E({},T,t,{dataId:e.data.data.id}))}).catch(function(e){K(!1),t(r.a.createElement(d.d,{text:JSON.stringify(e.message),success:!1}))})):t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1}))}(e),A(E({},T,{dataId:e})),U(!0)};function ne(e){e.preventDefault(),s.a.cek()?(K(!0),c.a.put("/api/materi/kuis/"+T.dataId,E({},T),{headers:{Authorization:"Bearer "+s.a.getToken()}}).then(function(e){K(!1),t("sukses"),re(),ee()}).catch(function(e){e.response&&422===e.response.request.status&&(console.log(D(e.response.data.errors)),t(D(e.response.data.errors))),re()})):t("mohon login ulang")}var re=function(e){A(E({},j)),$([]),U(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",style:{width:"100%",borderTop:"none"}},r.a.createElement("div",{className:"card-body row p-1"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"pb-1"},r.a.createElement("strong",{className:"card-title"},"Kuis"),!N&&r.a.createElement("button",{className:"btn btn-xxs btn-primary ml-1",value:0,onClick:function(){A(E({},T,{materiId:a})),U(!0)}},r.a.createElement("i",{className:"fas fa-plus"}))),!N&&r.a.createElement(f.b,{formW:"2",placeholder:" - ",label:"kelas / kelompok",options:l,value:Q,handleChange:function(e){X(e.currentTarget.value)}}),r.a.createElement("ul",{className:"list-group"},I.map(function(a){var n,l,o,i,u,f=JSON.parse(a.settings),p=(n=f.start,l=f.waktu,o=new Date,{start:i=new Date(n).getTime()-o.getTime(),end:u=i+6e4*l,status:i<=0&&u>0?2:u<0?3:1});return r.a.createElement("li",{className:"list-group-item p-1 pl-2",key:a.id},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("strong",null,a.kuis.judul),!N&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"ml-2 btn btn-xxs btn-outline-info",value:a.id,onClick:function(){return te(a.id)}},r.a.createElement("i",{className:"fas fa-wrench"})),r.a.createElement("button",{style:{display:"none"},className:"ml-2 btn btn-xxs btn-outline-danger",value:a.id,onClick:function(){return function(e,a){confirm("hapus ".concat(a))&&(S?(K(!0),c.a.delete("/api/rem-kuis/"+e,{headers:{Authorization:"Bearer "+S}}).then(function(e){K(!1),t(r.a.createElement(d.d,{text:"".concat(a," telah dihapus")})),getPeserta()}).catch(function(e){K(!1),t(r.a.createElement(d.d,{text:JSON.stringify(e.message),success:!1}))})):t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1})))}(a.id,a.kuis.judul)}},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement("br",null),r.a.createElement("small",{style:{}},!N&&""==Q&&r.a.createElement("p",{className:"mb-0"},"kelompok: ".concat(a.group?a.group:"umum")),f.keterangan&&r.a.createElement("p",{className:"mb-0"},"keterangan: ".concat(f.keterangan)),2==f.type&&r.a.createElement("p",{className:"mb-0"},"waktu: ".concat(f.waktu," menit")),2==f.mulai&&r.a.createElement("p",{className:"mb-0"},"mulai: ".concat(f.start)),!N&&a.published&&r.a.createElement("span",{className:"badge badge-success mr-1"},"published"),1==f.type?r.a.createElement("span",{className:"badge badge-info mr-1"},"latihan"):2==f.type&&r.a.createElement("span",{className:"badge badge-warning mr-1"},"ujian"),1==f.mulai?r.a.createElement("span",{className:"badge badge-secondary"},"mulai manual"):2==f.mulai&&r.a.createElement("span",{className:"badge badge-primary mr-1"},"terjadwal"))),r.a.createElement("div",{className:"col-md-4"},!N&&a.published&&2==f.type&&1==f.mulai&&!f.started&&r.a.createElement("button",{onClick:function(){return e=a.id,void(confirm("mulai kuis ini")&&(s.a.cek()?(K(!0),c.a.put("/api/start-kuis/"+e,E({},T),{headers:{Authorization:"Bearer "+s.a.getToken()}}).then(function(e){K(!1),t("sukses"),re(),ee()}).catch(function(e){e.response&&422===e.response.request.status&&(console.log(D(e.response.data.errors)),t(D(e.response.data.errors))),re()})):t("mohon login ulang")));var e},className:"btn btn-outline-success float-right mr-1"},r.a.createElement("i",{className:"fas fa-play"})),N&&!w&&(1==f.type||2==f.type&&(2==f.mulai||1==f.mulai&&f.started))&&r.a.createElement("button",{className:"btn btn-outline-success float-right mr-1",onClick:function(){return function(a){N&&confirm("Mulai Kuis?")&&e.history.push({pathname:"/mulai-kuis/"+a})}(a.id)}},r.a.createElement("i",{className:"fas fa-play"})),N&&w&&r.a.createElement("button",{className:"btn btn-outline-success float-right mr-1",onClick:function(){return function(e){console.log(e),s.a.getToken()?c.a.get("/api/detail-hasil-siswa/"+e,{headers:{Authorization:"Bearer "+s.a.getToken()}}).then(function(e){O(e.data.data)}).catch(function(){O(null)}):t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1}))}(a.id)}},r.a.createElement("i",{className:"fas fa-table"})),a.published&&2==f.type&&(2==f.mulai||1==f.mulai&&f.started)&&r.a.createElement("span",{className:""},r.a.createElement(g.a,{initialTime:p.start,direction:"backward",checkpoints:[{time:0,callback:function(){return ee()}}]},function(){return r.a.createElement("span",{style:{display:1==p.status?"block":"none"}},r.a.createElement("b",null,"Mulai : "),r.a.createElement(g.a.Days,null),"hari "," ",r.a.createElement(g.a.Hours,null),"jam"," ",r.a.createElement(g.a.Minutes,null),"menit"," ",r.a.createElement("strong",{style:{fontSize:20}},r.a.createElement(g.a.Seconds,null)))}),r.a.createElement(g.a,{initialTime:p.end,direction:"backward",checkpoints:[{time:0,callback:function(){return ee()}}]},function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{display:2==p.status?"block":"none"}},r.a.createElement("b",null,"Selesai : "),r.a.createElement(g.a.Hours,null),"jam"," ",r.a.createElement(g.a.Minutes,null),"menit"," ",r.a.createElement("strong",{style:{fontSize:20}},r.a.createElement(g.a.Seconds,null))),!N&&1!=p.status&&r.a.createElement(m.b,{to:"/hasil-kuis/".concat(a.id)},r.a.createElement("button",{className:"btn btn-outline-primary float-right mr-1"}," ",r.a.createElement("i",{className:"fas fa-table"}))))})))))}))))),R&&T.materiId&&!N&&r.a.createElement("div",{className:"modal",style:{display:"block",overflow:"auto"}},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{onSubmit:function(){S?(K(!0),c.a.post("/api/add-kuis/",{mapelId:a,group:T.group,kuises:Z},{headers:{Authorization:"Bearer "+s.a.getToken()}}).then(function(e){t(r.a.createElement(d.d,{text:"berhasil ditambahkan"})),K(!1),re(),ee()}).catch(function(e){e.response?422===e.response.request.status?t(D(e.response.data.errors)):401===e.response.request.status?t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1})):t(JSON.stringify(e.message)+" "+JSON.stringify(e.response.data)):t(JSON.stringify(e.message)+" "+JSON.stringify(e.response.data)),K(!1),re()})):t("mohon login ulang")},id:"form-1"}),r.a.createElement("div",{className:"modal-body"},r.a.createElement("button",{type:"button",className:"close",onClick:re},r.a.createElement("span",null,"Ã—")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 pr-0"},"Tambah Kuis",r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(f.b,{label:"Kelompok",name:"group",options:l,value:T.group,placeholder:" - PILIH -",handleChange:P}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(b.a,{kuises:F.kuises,setSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(E({},F,{search:e}))},defaultValues:{}}),r.a.createElement(p.a,{kuises:F.kuises,action:"select",select:function(e){if(e.persist(),e.target.checked)$([].concat(h(Z),[e.target.value])),console.log([].concat(h(Z),[e.target.value]));else{var a=Z.filter(function(a){if(e.target.value!==a)return a});$(a),console.log(a)}}})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"submit",form:"form-1",className:"btn btn-sm btn-success",disabled:L},r.a.createElement("i",{className:"fas fa-check"})," ","Tambahkan"," ",L&&r.a.createElement("i",{className:"fas fa-spinner fa-spin"})))))),R&&T.dataId&&!N&&r.a.createElement("div",{className:"modal",style:{display:"block",overflow:"auto"}},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{onSubmit:ne,id:"form-1"}),r.a.createElement("div",{className:"modal-body"},r.a.createElement("button",{type:"button",className:"close",onClick:re},r.a.createElement("span",null,"Ã—")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 pr-0"},"Pengaturan",r.a.createElement("br",null),r.a.createElement("small",null,q.kuis&&q.kuis.judul),r.a.createElement("hr",null),r.a.createElement(f.d,{label:"Keterangan",name:"keterangan",placeholder:"keterangan kuis",value:T.keterangan,handleChange:P}),r.a.createElement(f.b,{label:"Jenis",name:"type",options:[{id:"",nama:"-"},{id:1,nama:"Latihan"},{id:2,nama:"Ujian"}],value:T.type,handleChange:P}),2==T.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.d,{label:"Waktu",name:"waktu",formW:"2",placeholder:"menit",value:T.waktu,handleChange:P}),r.a.createElement(f.a,{label:"Mulai Kuis",name:"mulai",options:[[1,"Manual"],[2,"Terjadwal"]],value:T.mulai,handleChange:P}),2==T.mulai&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-2"},"Waktu Mulai"),r.a.createElement("div",{className:"col-5"},r.a.createElement(u.a,{selected:T.start,onChange:function(e){A(E({},T,{start:e}))},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"d MMMM, yyyy HH:mm",timeCaption:"waktu",className:"form-control"})))),r.a.createElement("div",{className:"ro2"},r.a.createElement("div",{className:"col-8 offset-md-2 p-0 pl-1"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"published",className:"custom-cb",onChange:function(e){var a=e.target.checked;console.log(E({},T,v({},e.target.name,a))),A(E({},T,v({},e.target.name,a)))},checked:!!T.published}),"  Terbitkan")))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"submit",form:"form-1",className:"btn btn-sm btn-success",disabled:L},r.a.createElement("i",{className:"fas fa-check"})," ","Terapkan"," ",L&&r.a.createElement("i",{className:"fas fa-spinner fa-spin"})))))))})},7:function(e,a,t){"use strict";t.d(a,"d",function(){return l}),t.d(a,"b",function(){return c}),t.d(a,"a",function(){return s}),t.d(a,"c",function(){return o});var n=t(0),r=t.n(n);function l(e){var a=e.type,t=e.name,n=e.placeholder,l=e.handleChange,c=e.value,s=e.required,o=e.label,i=e.labelW,m=e.formW,u=e.formtext,d=e.form;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(i||2)+" col-form-label"},o),r.a.createElement("div",{className:"col-md-"+(m||6)},r.a.createElement("input",{form:d,type:a||"text",className:"form-control",name:t,placeholder:n,onChange:l,value:c||"",required:s}),r.a.createElement("small",{className:"form-text text-muted"},u)))}function c(e){var a=e.name,t=e.placeholder,n=e.options,l=e.handleChange,c=e.value,s=e.required,o=e.label,i=e.labelW,m=e.formW;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(i||2)+" col-form-label"},o),r.a.createElement("div",{className:"col-md-"+(m||4)},r.a.createElement("select",{className:"custom-select",name:a,onChange:l,value:c||"",required:s},t&&r.a.createElement("option",{value:""},t),n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nama)}))))}function s(e){var a=e.name,t=e.options,n=e.handleChange,l=e.value,c=e.required,s=e.label,o=e.labelW,i=e.formW,m=e.form,u=e.labelClass,d=void 0===u?"":u;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(o||2)+" col-form-label"},s),r.a.createElement("div",{className:"col-md-"+(i||4),style:{marginTop:"0.4rem"}},t.map(function(e){var t=e[2]?e[2]:d;return r.a.createElement("div",{className:"form-check form-check-inline",key:e[0]},r.a.createElement("label",{className:"form-check-label ".concat(t)},r.a.createElement("input",{form:m,className:"form-check-input",type:"radio",name:a,onChange:n,value:e[0],checked:l==e[0],required:c})," ",e[1]))})))}function o(e){var a=e.name,t=e.handleChange,n=e.value,l=e.placeholder,c=e.required,s=e.label,o=e.labelW,i=e.formW;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-md-"+(o||2)+" col-form-label"},s),r.a.createElement("div",{className:"col-md-"+(i||4)},r.a.createElement("textarea",{style:{width:"100%"},className:"form-control",name:a,onChange:t,value:n||"",placeholder:l,required:c})))}},82:function(e,a,t){"use strict";var n=t(0),r=t.n(n);function l(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e){var a=e.content,t=e.materi,c=e.no,s=e.action,o=e.select,i=e.toggle,m=l(Object(n.useState)(!1),2),u=m[0],d=m[1];return r.a.createElement("li",{className:"list-group-item p-1",style:{backgroundColor:u?"rgba(0,0,0,0.05)":"#fff"}},r.a.createElement("b",null,c," . "),"file"===a.type&&r.a.createElement("span",{className:"fas fa-file mr-1"}),"text"===a.type&&r.a.createElement("span",{className:"fas fa-book mr-1"}),"video"===a.type&&r.a.createElement("span",{className:"fas fa-play-circle mr-1"}),t.kode&&"[".concat(t.kode,"]")," ",t.judul,r.a.createElement("span",{className:"float-right"},"default"===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-xs btn-warning ml-1",value:"update-".concat(t.id),onClick:i},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("button",{className:"btn btn-xs btn-danger ml-1",value:"delete-".concat(t.id),onClick:i},r.a.createElement("i",{className:"fas fa-trash"}))),"select"===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"select",className:"custom-cb",value:t.id,type:"checkbox",onChange:o,onClick:function(){d(!u)}}))))};a.a=function(e){var a=e.materis,t=e.from,n=e.loading,l=e.toggle,s=e.action,o=void 0===s?"default":s,i=e.select,m=0|t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list-group"},a.map(function(e,a){var t=JSON.parse(e.isi);return r.a.createElement(c,{materi:e,key:a,content:t,no:m++,action:o,select:i,toggle:l})})),n&&r.a.createElement("i",{className:"fas fa-spinner fa-spin"}))}},83:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(11);a.a=function(e){var a=e.loadData,t=Object(l.a)(o),n=t.values,c=t.handleChange,s=(t.handleSubmit,t.setValues),o=function(e){e.preventDefault(),a(n)};return r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"container d-flex h-100 flex-column"},r.a.createElement("div",{className:"flex-grow-1 mb-1"}),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-3 mb-1"},r.a.createElement("input",{className:"form-control",placeholder:"judul",name:"judul",value:n.judul||"",onChange:c})),r.a.createElement("div",{className:"col-md-2 mb-1"},r.a.createElement("input",{className:"form-control",placeholder:"kode",name:"kode",value:n.kode||"",onChange:c})),r.a.createElement("div",{className:"col-md-2 mb-1"},r.a.createElement("select",{className:"custom-select",name:"type",onChange:c,value:n.type||""},r.a.createElement("option",{value:""},"= Pilih Jenis ="),r.a.createElement("option",{value:"text"}," TEKS "),r.a.createElement("option",{value:"file"}," FILE "),r.a.createElement("option",{value:"video"}," VIDEO "))),r.a.createElement("div",{className:"col-md-2 mb-1"},r.a.createElement("button",{className:"btn btn-warning float-left",style:{width:"48%",padding:"0.375rem 0.5rem"},onClick:function(){return s({})}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("button",{className:"btn btn-success float-right",style:{width:"48%",padding:"0.375rem 0.5rem"}},r.a.createElement("i",{className:"fas fa-search"}))))))}},84:function(e,a,t){"use strict";var n=t(0),r=t.n(n);function l(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e){var a=e.kuis,t=e.no,c=e.action,s=e.select,o=e.setAction,i=l(Object(n.useState)(!1),2),m=i[0],u=i[1];return r.a.createElement("li",{className:"list-group-item p-1",style:{backgroundColor:m?"rgba(0,0,0,0.05)":"#fff"}},r.a.createElement("b",null,t," . "),a.kode&&r.a.createElement("b",null,"[",a.kode,"]")," ",a.judul,r.a.createElement("span",{className:"float-right"},"default"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-xs btn-primary ml-1",value:"kuisDetail-".concat(a.id),onClick:o},r.a.createElement("i",{className:"fas fa-expand"})),r.a.createElement("button",{className:"btn btn-xs btn-warning ml-1",value:"kuisUpdate-".concat(a.id),onClick:o},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("button",{className:"btn btn-xs btn-danger ml-1",value:"kuisDelete-".concat(a.id),onClick:o},r.a.createElement("i",{className:"fas fa-trash"}))),"select"===c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"select",className:"custom-cb",value:a.id,type:"checkbox",onChange:s,onClick:function(){u(!m)}}))))};a.a=function(e){var a=e.kuises,t=e.from,n=e.loading,l=e.setAction,s=e.action,o=void 0===s?"default":s,i=e.select,m=1|t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list-group"},a.map(function(e,a){return r.a.createElement(c,{kuis:e,key:a,no:m++,action:o,select:i,setAction:l})}),0===a.length&&r.a.createElement("p",null,"Belum ada data kuis")),n&&r.a.createElement("i",{className:"fas fa-spinner fa-spin"}))}},85:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(11);function c(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}a.a=function(e){var a=e.setSearch,t=e.defaultValues,s=Object(l.a)(u),o=s.values,i=s.handleChange,m=s.setValues;Object(n.useEffect)(function(){(t.judul||t.kode)&&m(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){c(e,a,t[a])})}return e}({},t))},[]);var u=function(e){e.preventDefault(),a({kuis:o})};return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",{className:"container d-flex h-100 flex-column"},r.a.createElement("div",{className:"flex-grow-1 mb-1"}),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-3 mb-1"},r.a.createElement("input",{className:"form-control",placeholder:"judul",name:"judul",value:o.judul||"",onChange:i})),r.a.createElement("div",{className:"col-md-2 mb-1"},r.a.createElement("input",{className:"form-control",placeholder:"kode",name:"kode",value:o.kode||"",onChange:i})),r.a.createElement("div",{className:"col-md-2 mb-1"},r.a.createElement("button",{className:"btn btn-warning float-left",style:{width:"48%",padding:"0.375rem 0.5rem"},onClick:function(){return m({})}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("button",{className:"btn btn-success float-right",style:{width:"48%",padding:"0.375rem 0.5rem"}},r.a.createElement("i",{className:"fas fa-search"}))))))}},90:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=(t(126),t(5));a.a=function(e){var a=e.mapel;return r.a.createElement("div",{className:"card mt-2 ml-",style:{width:"100%"}},r.a.createElement("div",{className:"card-body row p-1"},r.a.createElement("div",{className:"col-md-4 col-lg-3"},r.a.createElement("div",{style:{position:"relative",textAlign:"center",padding:0,height:150}},a.image?r.a.createElement("img",{src:"images/mapel/".concat(a.id,".jpg"),alt:"error",style:{width:"100%",height:"100%"}}):r.a.createElement(l.b,{text:a.nama}),r.a.createElement("div",{style:{position:"absolute",top:10,left:8,textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",color:"white",paddingLeft:"0.5em",paddingRight:"0.5em"}},r.a.createElement("b",null,a.kode)),r.a.createElement("div",{style:{position:"absolute",bottom:10,right:8,textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",color:"white",paddingLeft:"0.5em",paddingRight:"0.5em"}},r.a.createElement("b",null,"private"===a.akses&&r.a.createElement("i",{className:"fas fa-lock fa-2x"}))))),r.a.createElement("div",{className:"col-md-8 col-lg-9"},r.a.createElement("strong",{className:"card-title"},a.nama),r.a.createElement("p",{className:"mb-1"},r.a.createElement("small",null,a.pengajar," | kategori: ",a.kategori)),r.a.createElement("p",{className:"card-text"},a.keterangan),r.a.createElement("span",{className:"float-right"}))))}},91:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(44),c=t(4),s=t.n(c),o=t(11),i=t(1),m=t(39),u=t(92),d=t(5),f=t(7),p=t(82),b=t(83),g=t(48),h=t.n(g),E=t(25);function v(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(a){N(e,a,t[a])})}return e}function N(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function k(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=[],n=!0,r=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.a=Object(l.f)(function(e){var a=e.id,t=e.notif,l=e.isSiswa,c=void 0!==l&&l,g=i.a.getToken(),N={mapel_id:a,type:"1",dirName:"",parent:"",materi:""},w=k(Object(n.useState)([]),2),x=w[0],O=w[1],S=k(Object(n.useState)({materis:[],pageData:{},search:{},page:1}),2),j=S[0],C=S[1],T=k(Object(n.useState)([]),2),A=T[0],P=T[1],D=Object(o.a)(function(){g?(F(!0),s.a.post("/api/add-materi/",y({},J,{materis:A}),{headers:{Authorization:"Bearer "+i.a.getToken()}}).then(function(e){t(r.a.createElement(d.d,{text:"berhasil ditambahkan"})),F(!1),K(),U()}).catch(function(e){e.response?422===e.response.request.status?t(M(e.response.data.errors)):401===e.response.request.status?t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1})):t(JSON.stringify(e.message)+" "+JSON.stringify(e.response.data)):t(JSON.stringify(e.message)+" "+JSON.stringify(e.response.data)),F(!1),U()})):t("mohon login ulang")},N),J=D.values,I=D.setValues,M=D.getErrors,B=D.handleChange,q=D.handleSubmit,z=k(Object(n.useState)(!1),2),W=z[0],F=z[1],_=k(Object(n.useState)(!1),2),H=_[0],L=_[1];Object(n.useEffect)(function(){K()},[]),Object(n.useEffect)(function(){c||V()},[j.search,j.page]);var K=function(){if(i.a.getToken()){F(!0);var e=c?"/api/materi-siswa/mapel/":"/api/materi/mapel/";s.a.get(e+a,{params:{},headers:{Authorization:"Bearer "+i.a.getToken()}}).then(function(e){F(!1),O(Object(m.a)(e.data.data))}).catch(function(e){F(!1),t(JSON.stringify(e.message))})}else t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1}))},V=function(){i.a.getToken()?s.a.get("/api/materi?page="+j.page,{params:j.search,headers:{Authorization:"Bearer "+i.a.getToken()}}).then(function(e){C(y({},j,{materis:e.data.data,pageData:{from:e.data.meta.from,total:e.data.meta.total,per_page:e.data.meta.per_page,pageCount:Math.ceil(e.data.meta.total/e.data.meta.per_page)}}))}).catch(function(e){t(JSON.stringify(e.message))}):t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1}))};var R=function(e){var a=e.currentTarget.value;L(!0),I(function(e){return y({},e,{parent:a})})},U=function(){L(!1),I(N),C({materis:[],pageData:{},search:{}}),P([])};function G(t){var n=c?"/mapel_siswa/".concat(a,"/").concat(t):"/mapel/".concat(a,"/").concat(t);e.history.push({pathname:n,state:{isSiswa:c}})}var Q=function(e,a){i.a.getToken()?s.a.get(e,{responseType:"arraybuffer",headers:{Authorization:"Bearer "+i.a.getToken()}}).then(function(e){var t=new Blob([e.data],{type:e.headers["content-type"]});h.a.saveAs(t,a)}).catch(function(){console.log("err")}):setErrors(["mohon login ulang"])};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",style:{width:"100%",borderTop:"none"}},r.a.createElement("div",{className:"card-body row p-1"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"pb-1"},r.a.createElement("strong",{className:"card-title"},"Materi"),!c&&r.a.createElement("button",{className:"btn btn-xxs btn-primary ml-1",value:0,onClick:R},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("ul",{className:"list-group"},function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 0===a.length&&n?W?r.a.createElement(u.a,{width:300,height:80}):r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation"})," Belum ada data"):r.a.createElement("ul",{className:n?"list-group":""},a.map(function(a){return r.a.createElement("li",{key:a.id,className:n?"list-group-item p-1":""},1==a.type&&r.a.createElement("i",{className:"fas fa-folder"}),2==a.type&&(o=a.materi.isi,"text"==(i=JSON.parse(o)).type?r.a.createElement("i",{className:"fas fa-book"}):"video"==i.type?r.a.createElement("i",{className:"fas fa-video"}):"file"==i.type?r.a.createElement("i",{className:"fas fa-file"}):void 0)," ",1==a.type?a.nama:a.materi.judul," ",2==a.type&&r.a.createElement("span",{className:"mr-2"},function(e,a){var t=JSON.parse(e);return"text"==t.type?r.a.createElement("button",{className:"btn btn-xxs btn-outline-primary",onClick:function(){return G(a)}},r.a.createElement("i",{className:"fas fa-expand"})):"video"==t.type?r.a.createElement("button",{className:"btn btn-xxs btn-outline-primary",onClick:function(){return G(a)}},r.a.createElement("i",{className:"fas fa-play"})):"file"==t.type?r.a.createElement("button",{className:"btn btn-xxs btn-outline-primary",onClick:function(){return Q("api/get-materi-file-test/file/"+t.name,t.name)}},r.a.createElement("i",{className:"fas fa-download"})):void 0}(a.materi.isi,a.materi.id)),!c&&r.a.createElement("span",null,1==a.type&&l<3&&r.a.createElement("button",{className:"btn btn-xxs btn-outline-dark mr-1",value:a.id,onClick:R},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("button",{className:"btn btn-xxs btn-outline-danger",value:a.id,onClick:function(){return e=a.id,n=1==a.type?a.nama:a.materi.judul,void(g?confirm("hapus ".concat(n,"?"))&&(F(!0),s.a.delete("/api/rem-materi/"+e,{headers:{Authorization:"Bearer "+g}}).then(function(){t(r.a.createElement(d.d,{text:"".concat(n," berhasil dihapus")})),F(!1),K(),U()}).catch(function(e){e.response?422===e.response.request.status?t(r.a.createElement(d.d,{text:"Kosongkan direktori terlebih dahulu",success:!1})):401===e.response.request.status?t(r.a.createElement(d.d,{text:"mohon login ulang",success:!1})):t(JSON.stringify(e.message)+" "+JSON.stringify(e.response.data)):t(JSON.stringify(e.message)+" "+JSON.stringify(e.response.data)),F(!1),U()})):t("mohon login ulang"));var e,n}},r.a.createElement("i",{className:"fas fa-times"}))),e(a.child,!1,l+1));var o,i}))}(x)),r.a.createElement("hr",{className:"mt-5"})))),H&&!c&&r.a.createElement("div",{className:"modal",style:{display:"block",overflow:"auto"}},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{onSubmit:q,id:"form-1"}),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{className:"float-left",style:{width:"80%"}},r.a.createElement(f.a,{name:"type",handleChange:B,value:J.type,options:[["1","Direktori"],["2","Materi"]],labelClass:"btn btn-primary btn-sm",formW:"5",labelW:"0",form:"form-1"})),r.a.createElement("button",{type:"button",className:"close",onClick:U},r.a.createElement("span",null,"Ã—"))),r.a.createElement("div",{className:"col-12"},"1"==J.type&&r.a.createElement(f.d,{form:"form-1",formW:"5",labelW:"0",placeholder:"Nama Direktori",name:"dirName",value:J.dirName,handleChange:B}),"2"==J.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{loadData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C(y({},j,{search:e}))}}),r.a.createElement("div",{className:"mb-1"}),r.a.createElement(p.a,{materis:j.materis,from:j.pageData.from,action:"select",select:function(e){if(e.persist(),e.target.checked)P([].concat(v(A),[e.target.value])),console.log([].concat(v(A),[e.target.value]));else{var a=A.filter(function(a){if(e.target.value!==a)return a});P(a),console.log(a)}}}),r.a.createElement("div",{className:"mb-1"}),r.a.createElement(E.a,{pageData:j.pageData,page:j.page,handlePageClick:function(e){C(y({},j,{page:e.selected+1}))}}))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){confirm("Buat materi baru?")&&e.history.push("/materi/mapel/".concat(a,"/").concat(J.parent))}},r.a.createElement("i",{className:"fas fa-plus"})," Materi Baru"),r.a.createElement("button",{type:"sumbit",form:"form-1",className:"btn btn-sm btn-success",disabled:W},r.a.createElement("i",{className:"fas fa-plus"})," ","Tambahkan"," ",W&&r.a.createElement("i",{className:"fas fa-spinner fa-spin"})))))))})}}]);